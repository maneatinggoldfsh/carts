pico-8 cartridge // http://www.pico-8.com
version 16
__lua__
score=0
lives=3

padx=52
pady=122
padw=24
padh=4

padspeed=6

ballx=64
bally=64
ballsize=3
ballxdir=5
ballydir=-3

function movepaddle()
 if btn(0) then
  padx-=padspeed
 elseif btn(1) then
  padx+=padspeed
 end
end

function moveball()
 ballx+=ballxdir
 bally+=ballydir
end

function bounceball()
 if ballx<ballsize then
  ballxdir=5
  sfx(0)
 end
 if ballx>128-ballsize then
  ballxdir=-5
  sfx(0)
 end
 
 if bally<ballsize then
  ballydir=3
  sfx(0)
 end
 
 if bally>128-ballsize then
  ballydir=-3
  sfx(0)
 end
end

function bouncepaddle()
 if ballx>=padx and
   ballx<=padx+padw and
   bally>pady-padh then
  sfx(1)
  ballydir=-3
  score+=10
  return 1
 end
 return 0
end

function losedeadball()
 if bally>128-ballsize then
   sfx(3)
   bally=24
   lives-=1
 end
end

function _update()
 movepaddle()
 losedeadball()
 if bouncepaddle()==0 then
  bounceball()
 end
 moveball()
end

function _draw()
 rectfill(0,0,128,128,3)

 for i=1,lives do
  spr(004,90+i*8,4)
 end
 
 print(score,12,6,15)
 
 rectfill(padx,pady,padx+padw,pady+padh,15)
 circfill(ballx,bally,ballsize,15)
end

__gfx__
00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0000000000000000000000000000000000ff0ff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
007007000000000000000000000000000fffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000770000000000000000000000000000fffffff0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
0007700000000000000000000000000000fffff00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00700700000000000000000000000000000fff000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000000000000000000000000000000000000f0000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
00000000000000f00000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
__sfx__
000100000c0500d0500d0500e0500e0500e0500e0500f050100501305016050170501a0501d050210502205022050230502405025050260500000000000000000000000000000000000000000000000000000000
00030000300402f0402d0402b0302903025030230201f0101c010190101700012000110000f0000d0000c00009000060000400000000000000000000000000000000000000000000000000000000000000000000
001000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000
000200001f6501f6501f6501e6401d6401a64017640146401364012640126301263014620146100f6100000000000000000000000000000000000000000000000000000000000000000000000000000000000000
