--#include constants
--#include config

--#include oo
--#include v2
--#include ray
--#include bbox
--#include hitbox

--#include globals

--#include camera
--#include gfx

--#include helpers
--#include tween
--#include coroutines

--#include actors
--#include moth
--#include button
--#include room
--#include smoke
--#include particle
--#include player
--#include spring
--#include spawn
--#include spikes
--#include moving_platform
--#include lamp
--#include exit
--#include game
--#include fireflies

-- fade bubbles
-- x gravity
-- x downward collision
-- x wall slide
-- x add wall slide smoko
-- x fall down faster
-- x wall jump
-- x variable jump time
-- x test controller input
-- x add ice
-- x springs
-- x wall sliding on ice
-- x player spawn points
-- x spikes
-- x respawn player after death
-- x add ease in for spawn point
-- x add coroutine for spawn point
-- x slippage when changing directions
-- x flip smoke correctly when wall sliding
-- x particles with sprites
-- x fix world collision / falling off world
-- x add moving / pulling camera

-- x add moth sprites
-- x instantiate moth
-- x add light / light switch mechanic
-- x add moth following light
-- x move moth to nearest light
-- x ray collision with moth to find nearest visible lamp
-- x switches can toggle multiple lamps
-- x exit door
-- x better help texts
-- x draw moth above light
-- x show tutorial text above switch
-- x make wider levels
-- x implement camera
-- x better darker tiles
-- x add fireflies flying around
-- x parallax background
-- x make fireflies slower
-- x better spreading of fireflies
-- x debounce moth switching lamps
-- x limit moth fov
-- x switch levels when reaching exit door
-- x readd gore on death

-- respawn at last switch
-- better spike collision
-- spikes should only kill you when falling down
-- fade and room transitions
-- moth animation when seeing light
-- fix slight double jump (?)

-- add simple intro levels
-- add timed lamps
-- add marker above lamps the switch will activate

-- add title screen
-- generate parallax background
-- camera shake on death

-- moth dash mechanics?


-- find a proper way to define lamp target offsets
-- x better lamp switches
-- better moth movement
-- bresenham dashed line
-- x add checkpoints
-- particles trailing moth

-- add fire as a moth obstacle

-- add frogs

-- enemies
-- moving platforms
-- laser beam
-- vanishing platforms

-- fades

-- music
-- sfx

--include main-test
--include main-test-oo
--#include main